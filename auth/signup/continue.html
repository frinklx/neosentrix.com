<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Complete your Neolearn profile to personalize your learning experience"
    />
    <title>Complete Profile - Neolearn</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <link rel="icon" type="image/svg+xml" href="../../assets/favicon.svg" />
    <script>
      // Theme management
      const getTheme = () => {
        const savedTheme = localStorage.getItem("theme");
        if (savedTheme) return savedTheme;
        return window.matchMedia("(prefers-color-scheme: dark)").matches
          ? "dark"
          : "light";
      };

      const setTheme = (theme) => {
        document.documentElement.setAttribute("data-theme", theme);
        localStorage.setItem("theme", theme);
        updateThemeIcon(theme);
      };

      const updateThemeIcon = (theme) => {
        const icon = document.getElementById("theme-icon");
        if (icon) {
          icon.style.transform = "rotate(360deg)";
          setTimeout(() => {
            icon.innerHTML =
              theme === "dark"
                ? '<i class="fas fa-moon"></i>'
                : '<i class="fas fa-sun"></i>';
            icon.style.transform = "rotate(0deg)";
          }, 150);
        }
      };

      // Initialize theme
      document.addEventListener("DOMContentLoaded", () => {
        setTheme(getTheme());
      });

      // Handle system theme changes
      window
        .matchMedia("(prefers-color-scheme: dark)")
        .addEventListener("change", (e) => {
          if (!localStorage.getItem("theme")) {
            setTheme(e.matches ? "dark" : "light");
          }
        });
    </script>
  </head>
  <!-- Google tag (gtag.js) -->
  <script
    async
    src="https://www.googletagmanager.com/gtag/js?id=G-EZYFSV1NT5"
  ></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag("js", new Date());

    gtag("config", "G-EZYFSV1NT5");
  </script>
  <body>
    <!-- Theme Toggle Button -->
    <button
      class="theme-toggle"
      onclick="setTheme(getTheme() === 'dark' ? 'light' : 'dark')"
      aria-label="Toggle theme"
    >
      <span id="theme-icon"></span>
    </button>

    <div class="continue-container">
      <!-- Progress Bar -->
      <div class="progress-container">
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill"></div>
        </div>
        <div class="progress-steps">
          <div class="step active" data-step="1">
            <div class="step-number">1</div>
            <div class="step-label">Personal Info</div>
          </div>
          <div class="step" data-step="2">
            <div class="step-number">2</div>
            <div class="step-label">Education</div>
          </div>
          <div class="step" data-step="3">
            <div class="step-number">3</div>
            <div class="step-label">Interests</div>
          </div>
          <div class="step" data-step="4">
            <div class="step-number">4</div>
            <div class="step-label">Goals</div>
          </div>
        </div>
      </div>

      <!-- Form Section -->
      <div class="continue-form-section">
        <!-- Background Elements -->
        <div class="bg-grid"></div>
        <div class="decoration-sphere sphere-1"></div>
        <div class="decoration-sphere sphere-2"></div>
        <div class="decoration-sphere sphere-3"></div>

        <!-- Continue Card -->
        <div class="continue-card">
          <div class="card-header">
            <a href="/" class="logo">
              <img src="../../assets/favicon.svg" alt="Neolearn Logo" />
              <h1>neolearn</h1>
            </a>
            <p id="stepTitle">Tell us about yourself</p>
          </div>

          <form id="continueForm" novalidate>
            <!-- Step 1: Personal Information -->
            <div class="form-step active" data-step="1">
              <div class="form-group">
                <div class="input-group">
                  <i class="far fa-at"></i>
                  <input
                    type="text"
                    id="username"
                    name="username"
                    placeholder="Choose a username"
                    required
                  />
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <div class="input-group">
                    <i class="far fa-user"></i>
                    <input
                      type="text"
                      id="firstName"
                      name="firstName"
                      placeholder="First name"
                      required
                    />
                  </div>
                </div>

                <div class="form-group">
                  <div class="input-group">
                    <i class="far fa-user"></i>
                    <input
                      type="text"
                      id="lastName"
                      name="lastName"
                      placeholder="Last name"
                      required
                    />
                  </div>
                </div>
              </div>

              <div class="form-group">
                <div class="input-group">
                  <i class="far fa-phone"></i>
                  <input
                    type="tel"
                    id="phone"
                    name="phone"
                    placeholder="Phone number"
                    pattern="[8-9][0-9]{7}"
                  />
                </div>
              </div>
            </div>

            <!-- Step 2: Education -->
            <div class="form-step" data-step="2">
              <div class="form-group">
                <div class="input-group">
                  <i class="far fa-building"></i>
                  <input
                    type="text"
                    id="school"
                    name="school"
                    placeholder="School or Institution"
                    required
                  />
                </div>
              </div>

              <div class="form-group">
                <div class="input-group">
                  <i class="far fa-graduation-cap"></i>
                  <select id="educationLevel" name="educationLevel" required>
                    <option value="" disabled selected>Education Level</option>
                    <option value="secondary">Secondary School</option>
                    <option value="junior_college">Junior College</option>
                    <option value="polytechnic">Polytechnic</option>
                    <option value="university">University</option>
                    <option value="other">Other</option>
                  </select>
                </div>
              </div>

              <div class="form-group">
                <div class="input-group">
                  <i class="far fa-calendar"></i>
                  <select id="yearOfStudy" name="yearOfStudy" required>
                    <option value="" disabled selected>Year of Study</option>
                    <option value="1">Year 1</option>
                    <option value="2">Year 2</option>
                    <option value="3">Year 3</option>
                    <option value="4">Year 4</option>
                    <option value="5">Year 5</option>
                    <option value="other">Other</option>
                  </select>
                </div>
              </div>
            </div>

            <!-- Step 3: Interests -->
            <div class="form-step" data-step="3">
              <div class="form-group">
                <div class="input-group">
                  <i class="far fa-book"></i>
                  <select id="subjects" name="subjects" multiple required>
                    <option value="" disabled>Select Subjects</option>
                    <option value="math">Mathematics</option>
                    <option value="physics">Physics</option>
                    <option value="chemistry">Chemistry</option>
                    <option value="biology">Biology</option>
                    <option value="english">English</option>
                    <option value="history">History</option>
                    <option value="geography">Geography</option>
                    <option value="economics">Economics</option>
                  </select>
                </div>
                <small class="help-text"
                  >Hold Ctrl/Cmd to select multiple subjects</small
                >
              </div>

              <div class="form-group">
                <div class="input-group">
                  <i class="far fa-star"></i>
                  <select id="interests" name="interests" multiple>
                    <option value="" disabled>Select Your Interests</option>
                    <option value="programming">Programming</option>
                    <option value="art">Art & Design</option>
                    <option value="music">Music</option>
                    <option value="sports">Sports</option>
                    <option value="reading">Reading</option>
                    <option value="writing">Writing</option>
                    <option value="languages">Languages</option>
                  </select>
                </div>
                <small class="help-text"
                  >Optional - Select your hobbies and interests</small
                >
              </div>
            </div>

            <!-- Step 4: Goals -->
            <div class="form-step" data-step="4">
              <div class="form-group">
                <div class="input-group">
                  <i class="far fa-bullseye"></i>
                  <textarea
                    id="goals"
                    name="goals"
                    placeholder="What are your learning goals?"
                    rows="3"
                    required
                  ></textarea>
                </div>
              </div>

              <div class="form-group">
                <div class="input-group">
                  <i class="far fa-clock"></i>
                  <select id="studyTime" name="studyTime" required>
                    <option value="" disabled selected>
                      Preferred Study Time
                    </option>
                    <option value="morning">Morning (6 AM - 12 PM)</option>
                    <option value="afternoon">Afternoon (12 PM - 6 PM)</option>
                    <option value="evening">Evening (6 PM - 12 AM)</option>
                    <option value="flexible">Flexible</option>
                  </select>
                </div>
              </div>

              <div class="form-group">
                <div class="input-group">
                  <i class="far fa-calendar-check"></i>
                  <select id="studyDays" name="studyDays" multiple required>
                    <option value="" disabled>Preferred Study Days</option>
                    <option value="weekdays">Weekdays</option>
                    <option value="weekends">Weekends</option>
                    <option value="everyday">Every Day</option>
                  </select>
                </div>
              </div>
            </div>

            <!-- Navigation Buttons -->
            <div class="form-navigation">
              <button
                type="button"
                class="nav-btn back-btn"
                id="prevBtn"
                style="display: none"
              >
                <i class="fas fa-arrow-left"></i>
                <span>Back</span>
              </button>
              <button type="button" class="nav-btn next-btn" id="nextBtn">
                <span>Next</span>
                <i class="fas fa-arrow-right"></i>
              </button>
              <button
                type="submit"
                class="nav-btn submit-btn"
                id="submitBtn"
                style="display: none"
              >
                <span>Complete Setup</span>
                <i class="fas fa-check"></i>
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container"></div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="firebase-config.js"></script>
    <script src="continue.js"></script>
  </body>
</html>
